<div class="row">
  <div class="col-sm-12">
      <h3>Diretiva - gumgaImageUpload</h3>
      <p>
        O componente gumgaImageUpload é utilizado para enviar imagens, também pode ser usado para recortar partes de uma imagem antes do envio.
      </p>
  </div>
</div>

<br/>
<div class="row">
  <div class="col-sm-6">
    <h4>Demonstração</h4>
    <hr>
    <form name="Example">
      <gumga-image-upload
        images="entity.images"
        accepted="png,jpg"
        result-image-size="640"
        crop="true"
        max-size="1024"
        max-files="2"
        upload-method="upload(image)"
        remove-method="remove(image)">
      </gumga-image-upload>
    </form>
  </div>
  <div class="col-sm-6">
    <h4>Exemplo de código</h4>
    <hr>
    <uib-tabset active="activePill">
      <uib-tab index="0" heading="HTML">
        <pre style="font-size: 13px;"><code class="prettyprint">&lt;form name="Example"&gt;
  &lt;gumga-image-upload
    images="entity.images"
    accepted="png,jpg"
    result-image-size="640"
    crop="true"
    max-size="1024"
    max-files="2"
    upload-method="upload(image)"
    remove-method="remove()"&gt;
  &lt;/gumga-image-upload&gt;
&lt;/form&gt;</code></pre>
      </uib-tab>
      <uib-tab index="1" heading="JavaScript">
        <pre><code class="prettyprint" ng-non-bindable>angular.module('app', ['ngImgCrop', 'ui.bootstrap', 'gumga.core'])
  .controller('ctrl', function($scope, $q){

    $scope.entity = {};

    $scope.upload  = function(image){
      //SALVARIA A IMAGEM NO BACKEND, SIMULAMOS UMA RESPOSTA DO BACKEND
      return $q(function(resolve){
        resolve('OK')
      })
    }

    $scope.remove = function(image){
      //REMOVERIA A IMAGEM NO BACKEND, SIMULAMOS UMA RESPOSTA DO BACKEND
      return $q(function(resolve){
        resolve('OK')
      })
    }

  })</code></pre>
      </uib-tab>
    </uib-tabset>
  </div>
</div>



<div class="row">
  <div class="col-sm-12">
      <h4>Atributos</h4>
      <table class="table table-bordered table-striped">
          <tr>
              <th>Parâmetro</th>
              <th>Tipo</th>
              <th>Descrição</th>
          </tr>
          <tr>
              <td>images</td>
              <td>String</td>
              <td>Nome do atributo onde serão atribuídos a lista de imagens.</td>
          </tr>
          <tr>
              <td>accepted</td>
              <td>String</td>
              <td>Formatos aceitos, separados por virgula.</td>
          </tr>
          <tr>
              <td>result-image-size</td>
              <td>Integer</td>
              <td>Tamanho em pixels da imagem resultante do recorte.</td>
          </tr>
          <tr>
              <td>max-size</td>
              <td>Integer</td>
              <td>Tamanho máximo de cada arquivo, em Kbytes.</td>
          </tr>
          <tr>
              <td>max-files</td>
              <td>Integer</td>
              <td>Quantidade de arquivos que podem ser enviados.</td>
          </tr>
          <tr>
              <td>upload-method</td>
              <td>Function</td>
              <td>Atributo obrigatório que deve conter uma função de tratamento do upload da imagem, e essa imagem deve ser retornado na resposta.</td>
          </tr>
          <tr>
              <td>on-upload-success</td>
              <td>Function</td>
              <td>Atributo opcional que deve conter uma função, que será executada quando o upload for concluído.</td>
          </tr>
          <tr>
              <td>on-upload-error</td>
              <td>Function</td>
              <td>Nome da função atribuida ao $scope para manipular a ordenação, a função recebe dois parâmetros, field e way que serão, a coluna e a direção da ordenação respectivamente, existem duas direções, asc ou desc.</td></td>
          </tr>
          <tr>
              <td>remove-method</td>
              <td>Function</td>
              <td>Atributo obrigatório que deve conter uma função para remover a imagem, caso o retorno seja OK, a imagem é removida da lista, e se ainda houver uma função no atributo on-remove-success, é retornado a resposta e o index da imagem na lista.</td>
          </tr>
          <tr>
              <td>on-remove-success</td>
              <td>Function</td>
              <td>Atributo opcional que deve conter uma função, que será executada quando a imagem for removida for concluído.</td>
          </tr>
          <tr>
              <td>on-remove-error</td>
              <td>Function</td>
              <td>Atributo opcional que deve conter uma função, que será executada caso ocorra um erro no upload.</td>
          </tr>
      </table>
  </div>
</div>
